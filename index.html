<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trupt Acharya | The Intelligence Engineer</title>
    
    <!-- Tab Icon (Favicon) -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üßë‚Äçüíª</text></svg>">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Three.js Library for 3D Animation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0a0a0a;
            color: #e2e8f0;
        }
        #particle-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }
        main, header {
            position: relative;
            z-index: 2;
        }
        .hero-content {
            position: relative;
            z-index: 1;
        }
        .glass-effect {
            background: rgba(17, 24, 39, 0.6);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* Two-Sided Timeline Styles */
        #timeline-container {
            position: relative;
            max-width: 56rem;
            margin: auto;
            padding: 2rem 0;
        }
        #timeline-container::after {
            content: '';
            position: absolute;
            width: 4px;
            background-color: #374151; /* gray-700 */
            top: 0;
            bottom: 0;
            left: 50%;
            margin-left: -2px;
            z-index: 1;
        }
        .timeline-year {
            position: absolute;
            z-index: 10;
            left: 50%;
            transform: translateX(-50%);
            background-color: #3b82f6;
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            font-weight: 600;
        }
        .timeline-entry {
            position: absolute;
            width: calc(50% - 2rem);
        }
        .timeline-left {
            left: 0;
        }
        .timeline-right {
            left: calc(50% + 2rem);
        }
        .timeline-content {
            position: relative;
            overflow: hidden;
        }
        .summary-view, .detail-view {
            transition: opacity 0.3s ease-in-out;
        }
        .detail-view {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            padding: 1.5rem;
            opacity: 0;
            pointer-events: none;
            overflow-y: auto;
        }
        .timeline-content:hover .summary-view {
            opacity: 0;
        }
        .timeline-content:hover .detail-view {
            opacity: 1;
            pointer-events: auto;
        }
        .detail-view::-webkit-scrollbar { width: 6px; }
        .detail-view::-webkit-scrollbar-track { background: transparent; }
        .detail-view::-webkit-scrollbar-thumb { background: #475569; border-radius: 10px; }
        .detail-view::-webkit-scrollbar-thumb:hover { background: #64748b; }

        @media (max-width: 768px) {
            #timeline-container::after {
                left: 20px;
            }
            .timeline-year {
                left: 20px;
            }
            .timeline-entry {
                width: calc(100% - 50px);
                left: 50px !important;
                margin-bottom: 2rem;
            }
        }

        .modal-content {
            animation: slide-up 0.3s ease-out;
        }
        @keyframes slide-up {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .tech-logo {
            transition: transform 0.2s ease-in-out;
        }
        .tech-logo:hover {
            transform: scale(1.1);
        }
        .copilot-input:focus {
            box-shadow: 0 0 0 2px #3b82f6;
        }
        .scroll-animate {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .scroll-animate.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .loader {
            border: 2px solid #f3f3f3;
            border-top: 2px solid #3b82f6;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .filter-btn {
            transition: all 0.2s ease-in-out;
        }
        .filter-btn.active {
            background-color: #3b82f6;
            color: #ffffff;
            font-weight: 600;
        }
        .project-card {
            transition: opacity 0.4s ease, transform 0.4s ease;
        }
        .project-card.hidden {
            opacity: 0;
            transform: scale(0.95);
            pointer-events: none;
            position: absolute;
        }
    </style>
</head>
<body class="antialiased">
    <canvas id="particle-canvas"></canvas>

    <header class="fixed top-0 left-0 right-0 z-50 glass-effect">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-xl font-bold text-white">Trupt Acharya</a>
            <nav class="hidden md:flex space-x-8">
                <a href="#about" class="hover:text-blue-400 transition-colors">About</a>
                <a href="#experience" class="hover:text-blue-400 transition-colors">Experience</a>
                <a href="#projects" class="hover:text-blue-400 transition-colors">Projects</a>
                <a href="#contact" class="hover:text-blue-400 transition-colors">Contact</a>
            </nav>
            <button id="mobile-menu-button" class="md:hidden text-white">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" /></svg>
            </button>
        </div>
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4">
            <a href="#about" class="block py-2 hover:text-blue-400 transition-colors">About</a>
            <a href="#experience" class="block py-2 hover:text-blue-400 transition-colors">Experience</a>
            <a href="#projects" class="block py-2 hover:text-blue-400 transition-colors">Projects</a>
            <a href="#contact" class="block py-2 hover:text-blue-400 transition-colors">Contact</a>
        </div>
    </header>

    <main class="pt-24">
        <section id="home" class="relative min-h-[80vh] flex items-center justify-center text-center overflow-hidden">
            <div class="hero-content container mx-auto px-6 py-16 md:py-24">
                <h1 class="text-4xl md:text-6xl font-bold text-white leading-tight">The Intelligence Engineer</h1>
                <p class="mt-4 text-lg md:text-xl text-slate-400 max-w-3xl mx-auto">From Data to Decision: Crafting intelligent systems that bridge the gap between raw information and actionable insights.</p>
                <div class="mt-8 max-w-3xl mx-auto bg-slate-800/50 border border-slate-700 rounded-lg p-4">
                    <h3 class="text-md font-semibold text-blue-300 mb-3">Seeking Opportunities In:</h3>
                    <div class="flex flex-wrap justify-center gap-2 md:gap-3">
                        <span class="bg-slate-700 text-slate-200 text-sm font-medium px-3 py-1 rounded-full">Machine Learning Engineer</span>
                        <span class="bg-slate-700 text-slate-200 text-sm font-medium px-3 py-1 rounded-full">AI Engineer</span>
                        <span class="bg-slate-700 text-slate-200 text-sm font-medium px-3 py-1 rounded-full">Full Stack Engineer</span>
                        <span class="bg-slate-700 text-slate-200 text-sm font-medium px-3 py-1 rounded-full">Data Engineer</span>
                        <span class="bg-slate-700 text-slate-200 text-sm font-medium px-3 py-1 rounded-full">Backend Engineer</span>
                    </div>
                </div>
                <div class="mt-8 max-w-2xl mx-auto">
                    <label for="copilot-input" class="block text-sm font-medium text-slate-300 mb-2">‚ú® Ask my Portfolio Co-Pilot</label>
                    <div class="relative">
                        <input type="text" id="copilot-input" class="copilot-input w-full px-4 py-3 rounded-lg bg-slate-800 border border-slate-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all" placeholder="e.g., 'What is LifeHUD?'">
                        <div id="copilot-response" class="mt-4 text-left text-slate-300 bg-slate-800/50 p-4 rounded-lg border border-slate-700 hidden"></div>
                    </div>
                </div>
            </div>
        </section>

        <section id="about" class="container mx-auto px-6 py-20 scroll-animate">
            <h2 class="text-3xl font-bold text-center text-white mb-12">About Me</h2>
            <div class="max-w-4xl mx-auto grid md:grid-cols-3 gap-8 items-center">
                <div class="md:col-span-1 flex justify-center">
                    <img src="assets/profile.jpg" alt="Trupt Acharya" class="rounded-full w-48 h-48 md:w-64 md:h-64 object-cover border-4 border-slate-700 shadow-lg">
                </div>
                <div class="md:col-span-2 text-slate-300 space-y-4 text-lg">
                    <p>I'm an engineer passionate about building intelligent systems, with a focus on <strong>Machine Learning</strong>, <strong>AI</strong>, and <strong>Full Stack Development</strong>. My journey has taken me from architecting scalable <strong>backend</strong> platforms to fine-tuning complex NLP models.</p>
                    <p>I am actively seeking opportunities as a <strong>Software Engineer</strong>, <strong>ML/AI Engineer</strong>, or <strong>Data Engineer</strong> where I can apply my skills to transform complex data into actionable insights and create meaningful, real-world solutions.</p>
                </div>
            </div>
        </section>

        <section id="experience" class="container mx-auto px-6 py-20 scroll-animate">
            <h2 class="text-3xl font-bold text-center text-white mb-16">My Journey</h2>
            <div id="timeline-container">
                <!-- Two-sided timeline will be injected here by JS -->
            </div>
        </section>

        <section id="projects" class="container mx-auto px-6 py-20 scroll-animate">
            <h2 class="text-3xl font-bold text-center text-white mb-12">Project Arsenal</h2>
            <div id="project-filters" class="flex flex-wrap justify-center gap-2 md:gap-4 mb-10">
                <button class="filter-btn active bg-slate-700 hover:bg-slate-600 text-slate-200 font-medium py-2 px-4 rounded-full" data-filter="all">All Projects</button>
                <button class="filter-btn bg-slate-700 hover:bg-slate-600 text-slate-200 font-medium py-2 px-4 rounded-full" data-filter="ai-ml">AI / ML</button>
                <button class="filter-btn bg-slate-700 hover:bg-slate-600 text-slate-200 font-medium py-2 px-4 rounded-full" data-filter="full-stack">Full Stack</button>
                <button class="filter-btn bg-slate-700 hover:bg-slate-600 text-slate-200 font-medium py-2 px-4 rounded-full" data-filter="data-eng">Data Engineering</button>
                <button class="filter-btn bg-slate-700 hover:bg-slate-600 text-slate-200 font-medium py-2 px-4 rounded-full" data-filter="backend">Backend</button>
            </div>
            <div id="projects-grid" class="relative grid md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
        </section>

        <section id="contact" class="container mx-auto px-6 py-20 text-center scroll-animate">
            <h2 class="text-3xl font-bold text-white">Let's Build Something Intelligent</h2>
            <p class="mt-4 text-slate-400 max-w-xl mx-auto">I'm currently seeking new opportunities and would love to hear from you. Feel free to reach out or download my resume.</p>
            <div class="mt-8 flex flex-col items-center space-y-4">
                <div class="flex items-center space-x-4 p-3 rounded-lg bg-slate-800 border border-slate-700">
                    <span id="email-text" class="text-lg text-slate-300">ta2674@nyu.edu</span>
                    <button id="copy-email-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md transition-colors flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
                        <span id="copy-btn-text">Copy</span>
                    </button>
                </div>
                <a href="assets/trupt_acharya_resume.pdf" download class="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-6 rounded-lg transition-transform transform hover:scale-105 flex items-center gap-2">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                    Download Resume
                </a>
                <div class="flex justify-center space-x-6 pt-4">
                    <a href="https://github.com/trupt2479" target="_blank" class="text-slate-400 hover:text-white transition-colors">
                        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.477 2 12c0 4.418 2.865 8.168 6.839 9.49.5.092.682-.217.682-.482 0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.031-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.378.203 2.398.1 2.651.64.7 1.03 1.595 1.03 2.688 0 3.848-2.338 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.001 10.001 0 0022 12c0-5.523-4.477-10-10-10z" clip-rule="evenodd" /></svg>
                    </a>
                    <a href="https://www.linkedin.com/in/trupt-acharya/" target="_blank" class="text-slate-400 hover:text-white transition-colors">
                        <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>
                    </a>
                </div>
            </div>
        </section>
    </main>

    <div id="project-modal" class="fixed inset-0 bg-black bg-opacity-70 z-50 hidden items-center justify-center p-4">
        <div id="modal-content" class="modal-content glass-effect rounded-lg shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto"></div>
    </div>


    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // --- Data ---
        const timelineItems = [
            { 
                type: 'experience', 
                startYear: 2025, 
                endYear: 2026, 
                date: 'September 2025 - Present', 
                title: 'Software Engineer Intern (Full-Time)', 
                company: 'IpserLab Startup, LLC', 
                description: 'Developing "AuraCam", a mobile application providing real-time computer vision guidance for photo composition. Engineered a high-performance CV pipeline using Flutter and Dart. Optimized UI rendering to 60 FPS while handling heavy on-device inference using Google ML Kit. Implemented advanced frame throttling and concurrency controls to manage device battery and thermal load.', 
                tags: ['Flutter', 'Dart', 'Google ML Kit', 'Computer Vision', 'Performance Optimization'], 
                color: 'blue' 
            },
            { 
                type: 'education', 
                startYear: 2023, 
                endYear: 2025, 
                date: 'Sep 2023 - May 2025', 
                title: 'Master of Science, Computer Engineering', 
                company: 'New York University (NYU)', 
                description: 'Relevant Coursework: Machine Learning, Internet Architecture Protocol, Data Structure and Algorithm, Real-time Embedded Systems, Computer Systems Architecture, Intro to Java, VLSI System Design, Advanced Topics of Computer Vision, Big Data, Database Management Systems.', 
                tags: ['Tandon School of Engineering'], 
                color: 'purple' 
            },
            { 
                type: 'experience', 
                startYear: 2024, 
                endYear: 2024, 
                date: 'Jun 2024 - Aug 2024', 
                title: 'Software Development Intern', 
                company: 'Dassault Syst√®mes', 
                description: 'Engineered an offline NLP assistant to slash manual lookup times for engineers. Fine-tuned a BERT model for domain-specific search, achieving high accuracy and reliability within a constrained network.', 
                tags: ['NLP', 'BERT', 'Software Architecture'], 
                color: 'blue' 
            },
            { 
                type: 'experience', 
                startYear: 2021, 
                endYear: 2023, 
                date: 'January 2021 - August 2023', 
                title: 'Software Engineer / Machine Learning Engineer', 
                company: 'Scanpoint Geomatics Ltd', 
                description: 'Automated ingestion and processing pipelines for massive geospatial datasets (40-60 GB/week). Trained and tuned YOLOv8 & U-Net models for crop detection and segmentation, delivering actionable map layers to over 500 field surveyors. Improved F1 score by 22% through custom data augmentation techniques.', 
                tags: ['Machine Learning', 'Computer Vision', 'Data Pipelines', 'YOLOv8'], 
                color: 'green' 
            },
            { 
                type: 'education', 
                startYear: 2019, 
                endYear: 2023, 
                date: '2019 - 2023', 
                title: 'Bachelor of Technology, Information Technology', 
                company: 'SRM Institute of Science & Technology (SRMIST)', 
                description: 'Relevant Coursework: Object Oriented Design and Programming, Operating Systems, Software Engineering, AI. <br><br><strong>On-Campus Activity:</strong> As an <strong>Instructor for AI in Robotics</strong>, I led sessions for 200+ students on microcontroller programming (ESP32), sensors, and computer vision with Python/OpenCV.', 
                tags: ['SRMIST', 'Teaching', 'AI in Robotics'], 
                color: 'purple' 
            }
        ];
        
        const projects = [
            { 
                id: 'life-hud', 
                tags: ['full-stack', 'backend'], 
                title: 'LifeHUD: Persistent Desktop Productivity Engine', 
                category: 'Desktop Software & Productivity', 
                description: 'A native desktop application built with Electron and React that serves as a gamified personal OS, tracking KPIs like progress and hydration without browser context switching.', 
                challenge: 'Developer context-switching friction between browsers and IDEs reduces focus. Most habit trackers are easily hidden behind other tabs.', 
                mission: 'To engineer an "always-on" frameless dashboard that provides immediate visual feedback (heatmaps, progress bars) directly on the desktop using secure IPC and local state persistence.', 
                tech: ['Electron', 'React.js', 'Node.js', 'Vite', 'TypeScript', 'Tailwind CSS'], 
                outcome: [ 
                    'Architected a secure IPC bridge separating Node.js and Web environments.', 
                    'Engineered a timezone-safe GitHub-style contribution graph for habit tracking.', 
                    'Implemented local JSON persistence allowing state to survive system reboots.', 
                    'Optimized module resolution to solve ESM/CommonJS compatibility issues in the Electron Main process.' 
                ], 
                interactive: 'lifeHUD' 
            },
            { id: 'trip-planner', tags: ['ai-ml', 'full-stack'], title: 'AI-Powered Trip Planner', category: 'Full-stack AI Application', description: 'A web app that uses AI to generate personalized travel itineraries based on user preferences.', challenge: 'Eliminate the tedious manual research involved in travel planning by creating an intelligent, conversational agent that builds custom trips on the fly.', mission: 'To develop a full-stack platform that leverages NLP to understand user needs (budget, interests, time) and generates complete, day-by-day travel itineraries with real-world context from Google Maps.', tech: ['Python', 'Flask', 'JavaScript', 'Gemini API', 'Google Maps API', 'MongoDB', 'HTML/CSS', 'Bootstrap'], outcome: [ 'Reduced average planning time by 2-3 hours per trip.', 'Achieved over 80% positive feedback in user testing for its "smart" suggestions.', 'Improved AI output quality by 40% through iterative prompt engineering.', 'Reduced API latency by up to 60% using background processing and caching.' ], interactive: 'tripPlanner' },
            { id: 'fetal-brain', tags: ['ai-ml'], title: 'Fetal Brain Anomaly Detection', category: 'Deep Learning & Medical Imaging', description: 'A CNN model to detect brain anomalies in 2D fetal ultrasound images, aiding early diagnosis.', challenge: 'The detection of fetal brain anomalies from ultrasounds is subjective and error-prone, especially in low-resource settings. The goal was to build a reliable AI decision support tool.', mission: 'To design, train, and evaluate a Convolutional Neural Network (CNN) that can accurately classify fetal brain ultrasounds as "Normal" or "Abnormal," and to make the model\'s decisions interpretable.', tech: ['Python', 'TensorFlow', 'Keras', 'OpenCV', 'Scikit-learn', 'Matplotlib'], outcome: [ 'Achieved ~91.3% test accuracy, outperforming baseline models by >15%.', 'Reached a 0.94 AUC score, indicating strong classification confidence.', 'Successfully used Grad-CAM heatmaps to visualize model focus, enhancing interpretability for medical use.', 'Overcame small dataset and class imbalance issues through data augmentation and class weighting.' ], interactive: 'fetalBrain' },
            { id: 'fraud-detection', tags: ['ai-ml', 'data-eng'], title: 'Credit Card Fraud Detection', category: 'Machine Learning & FinTech', description: 'An ML system to identify fraudulent transactions in a highly imbalanced dataset.', challenge: 'Fraudulent transactions are extremely rare events (less than 0.2% of data), making them difficult to detect accurately without a high number of false positives.', mission: 'To build and optimize a machine learning model (XGBoost) that maximizes fraud detection (Recall) while keeping false alarms (low False Positive Rate) to a minimum for real-world banking systems.', tech: ['Python', 'Pandas', 'Scikit-learn', 'XGBoost', 'LightGBM', 'Matplotlib'], outcome: [ 'Best model (XGBoost) achieved 95.2% Recall and 89.4% Precision.', 'Maintained a low False Positive Rate of under 2.3%.', 'Used SHAP and permutation importance for model explainability, identifying key fraud indicators.', 'Gained deep experience in handling highly imbalanced datasets and selecting appropriate evaluation metrics.' ], interactive: 'fraudDetection' },
            { id: 'ecommerce-platform', tags: ['full-stack', 'backend'], title: 'Scalable E-Commerce Platform', category: 'Full Stack & Cloud DevOps', description: 'A production-ready e-commerce system designed for high traffic, security, and performance.', challenge: 'Building an e-commerce platform that goes beyond basic functionality to handle high concurrency, secure payments, and maintain performance at scale.', mission: 'To architect and deploy a modular, containerized e-commerce application using a modern tech stack (React, Flask, Docker, AWS) with a focus on scalability, reliability, and best practices in DevOps.', tech: ['Python', 'Flask', 'React.js', 'PostgreSQL', 'Docker', 'Redis', 'AWS', 'Stripe API'], outcome: [ 'Improved page load time by 42% by implementing Redis caching.', 'Handled 500 concurrent users in load tests with stable performance.', 'Implemented a CI/CD pipeline with GitHub Actions, reducing deployment friction.', 'Gained hands-on experience with cloud-native deployments, containerization, and microservice principles.' ], interactive: 'ecommerce' },
            { id: 'hindi-lip-reading', tags: ['ai-ml'], title: 'Hindi Lip-Reading & VSR Model', category: 'Deep Learning & NLP Research', description: 'A pioneering project to create a Hindi lip-reading dataset and a Visual Speech Recognition model.', challenge: 'Visual Speech Recognition (VSR) is a major challenge for low-resource languages like Hindi due to the lack of large-scale, curated datasets and the ambiguity of lip movements (homophemes).', mission: 'To create a high-quality, 250+ hour Hindi lip-reading dataset from scratch and develop an end-to-end deep learning model (3D CNN + ResNet + Conformer) to perform visual transcription.', tech: ['Python', 'PyTorch', 'FFmpeg', 'SyncNet', 'ResNet-18', 'Conformer'], outcome: [ 'Successfully created a 250+ hour, multi-speaker Hindi VSR dataset.', 'Developed a fully automated preprocessing pipeline for video, audio, and text data.', 'Achieved a 71.4% Word Error Rate (WER), a promising result for an early-stage model in a low-resource language.', 'Gained full-stack AI research experience, from data creation to model implementation.' ] },
            { id: 'network-analyzer', tags: ['backend'], title: 'Network Traffic Analyzer', category: 'Networking & Cybersecurity', description: 'A Python-based tool to monitor, analyze, and visualize live network traffic for security and diagnostics.', challenge: 'Commercial network analysis tools can be complex and heavyweight. The goal was to create a lightweight, customizable, and easy-to-understand tool for real-time packet inspection.', mission: 'To build a system using Scapy and Pandas that could sniff live network packets, log them efficiently to SQLite, analyze them for anomalies (like port scans), and visualize traffic patterns.', tech: ['Python', 'Scapy', 'Pandas', 'Matplotlib', 'SQLite'], outcome: [ 'Successfully flagged simulated SYN floods and data exfiltration scenarios.', 'Achieved ~90% accuracy in identifying basic protocols against Wireshark benchmarks.', 'Gained deep knowledge of OSI layers, packet mechanics, and security threat signatures.', 'Designed an efficient schema for high-throughput packet logging and querying.' ] },
            { id: 'affirmation-library', tags: ['full-stack', 'backend', 'data-eng'], title: 'Public Affirmation Library', category: 'Full-stack Web App & Database Systems', description: 'A community-driven platform for sharing positive affirmations to promote mental well-being.', challenge: 'Creating a safe, positive, and robust digital space for emotional support requires careful backend engineering, secure text handling, and an empathetic user interface.', mission: 'To engineer a platform with a complex PostgreSQL backend (including stored procedures and triggers) and a TypeScript frontend, allowing users to submit, browse, and favorite affirmations securely and anonymously.', tech: ['Python', 'TypeScript', 'PostgreSQL', 'Docker', 'HTML/CSS', 'JavaScript'], outcome: [ 'System supported 1000+ concurrent interactions with minimal latency in tests.', 'Query optimization and connection pooling led to a 35% improvement in load time.', 'Gained hands-on experience with advanced PostgreSQL features like PL/pgSQL.', 'Learned about designing for emotional impact and empathy in technology.'], interactive: 'affirmationLibrary' },
            { id: 'env-simulator', tags: ['data-eng'], title: 'Environmental Impact Simulator', category: 'Java Desktop Application & Data Visualization', description: 'A Java Swing application to quantify and visualize the ecological impact of everyday human activities.', challenge: 'Many people are unaware of the tangible environmental footprint of their daily choices. The goal was to create a tool to raise awareness through data-driven insights.', mission: 'To develop a user-focused desktop application that allows detailed tracking of activities like travel and energy use, providing interactive visualizations and actionable recommendations for sustainable behavior.', tech: ['Java', 'Swing'], outcome: [ 'Serves as an effective educational tool to show unseen environmental costs.', 'Encourages greener choices through data-backed behavioral nudging.', 'Mastered Java Swing, object-oriented design, and data visualization principles.', 'Gained a deeper understanding of sustainability through simulation modeling.'], interactive: 'envSimulator' }
        ];

        const techLogos = { 
            'Python': 'https://img.shields.io/badge/Python-3776AB?style=for-the-badge&logo=python&logoColor=white', 
            'Flask': 'https://img.shields.io/badge/Flask-000000?style=for-the-badge&logo=flask&logoColor=white', 
            'JavaScript': 'https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black', 
            'Gemini API': 'https://img.shields.io/badge/Gemini_API-4285F4?style=for-the-badge&logo=google-gemini&logoColor=white', 
            'Google Maps API': 'https://img.shields.io/badge/Google_Maps-4285F4?style=for-the-badge&logo=googlemaps&logoColor=white', 
            'MongoDB': 'https://img.shields.io/badge/MongoDB-47A248?style=for-the-badge&logo=mongodb&logoColor=white', 
            'HTML/CSS': 'https://img.shields.io/badge/HTML5-E34F26?style=for-the-badge&logo=html5&logoColor=white', 
            'Bootstrap': 'https://img.shields.io/badge/Bootstrap-7952B3?style=for-the-badge&logo=bootstrap&logoColor=white', 
            'TensorFlow': 'https://img.shields.io/badge/TensorFlow-FF6F00?style=for-the-badge&logo=tensorflow&logoColor=white', 
            'Keras': 'https://img.shields.io/badge/Keras-D00000?style=for-the-badge&logo=keras&logoColor=white', 
            'OpenCV': 'https://img.shields.io/badge/OpenCV-5C3EE8?style=for-the-badge&logo=opencv&logoColor=white', 
            'Scikit-learn': 'https://img.shields.io/badge/scikit_learn-F7931E?style=for-the-badge&logo=scikit-learn&logoColor=white', 
            'Matplotlib': 'https://img.shields.io/badge/Matplotlib-11557c?style=for-the-badge&logo=matplotlib&logoColor=white', 
            'Pandas': 'https://img.shields.io/badge/Pandas-150458?style=for-the-badge&logo=pandas&logoColor=white', 
            'XGBoost': 'https://img.shields.io/badge/XGBoost-006100?style=for-the-badge&logo=xgboost&logoColor=white', 
            'LightGBM': 'https://img.shields.io/badge/LightGBM-444444?style=for-the-badge&logo=lightgbm&logoColor=white', 
            'React.js': 'https://img.shields.io/badge/React-61DAFB?style=for-the-badge&logo=react&logoColor=black', 
            'PostgreSQL': 'https://img.shields.io/badge/PostgreSQL-4169E1?style=for-the-badge&logo=postgresql&logoColor=white', 
            'Docker': 'https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white', 
            'Redis': 'https://img.shields.io/badge/Redis-DC382D?style=for-the-badge&logo=redis&logoColor=white', 
            'AWS': 'https://img.shields.io/badge/AWS-232F3E?style=for-the-badge&logo=amazon-aws&logoColor=white', 
            'Stripe API': 'https://img.shields.io/badge/Stripe-626CD9?style=for-the-badge&logo=stripe&logoColor=white', 
            'PyTorch': 'https://img.shields.io/badge/PyTorch-EE4C2C?style=for-the-badge&logo=pytorch&logoColor=white', 
            'FFmpeg': 'https://img.shields.io/badge/FFmpeg-007800?style=for-the-badge&logo=ffmpeg&logoColor=white', 
            'ResNet-18': 'https://img.shields.io/badge/ResNet--18-8A2BE2?style=for-the-badge&logo=resnet&logoColor=white', 
            'Conformer': 'https://img.shields.io/badge/Conformer-4682B4?style=for-the-badge&logo=conformer&logoColor=white', 
            'Scapy': 'https://img.shields.io/badge/Scapy-E05A17?style=for-the-badge&logo=scapy&logoColor=white', 
            'SQLite': 'https://img.shields.io/badge/SQLite-003B57?style=for-the-badge&logo=sqlite&logoColor=white', 
            'Java': 'https://img.shields.io/badge/Java-ED8B00?style=for-the-badge&logo=openjdk&logoColor=white', 
            'Swing': 'https://img.shields.io/badge/Swing-557c9b?style=for-the-badge&logo=swing&logoColor=white', 
            'TypeScript': 'https://img.shields.io/badge/TypeScript-3178C6?style=for-the-badge&logo=typescript&logoColor=white',
            'Electron': 'https://img.shields.io/badge/Electron-2B2E3A?style=for-the-badge&logo=electron&logoColor=9FEAF9',
            'Vite': 'https://img.shields.io/badge/Vite-646CFF?style=for-the-badge&logo=vite&logoColor=white',
            'Node.js': 'https://img.shields.io/badge/Node.js-339933?style=for-the-badge&logo=nodedotjs&logoColor=white',
            'Flutter': 'https://img.shields.io/badge/Flutter-02569B?style=for-the-badge&logo=flutter&logoColor=white',
            'Dart': 'https://img.shields.io/badge/Dart-0175C2?style=for-the-badge&logo=dart&logoColor=white',
            'Google ML Kit': 'https://img.shields.io/badge/ML_Kit-4285F4?style=for-the-badge&logo=google&logoColor=white'
        };

        // --- Gemini API Integration ---
        async function callGemini(prompt, retries = 3, delay = 1000) {
            if (!window.location.hostname.includes('netlify.app') && !window.location.hostname.includes('truptacharya.com')) {
                return "Portfolio Co-Pilot is only available on the live website.";
            }
            const apiUrl = `/.netlify/functions/call-gemini`;
            const payload = { prompt: prompt };
            try {
                const response = await fetch(apiUrl, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload) });
                if (!response.ok) {
                    if (response.status === 429 && retries > 0) { await new Promise(res => setTimeout(res, delay)); return callGemini(prompt, retries - 1, delay * 2); }
                    const errorData = await response.json();
                    throw new Error(errorData.error || `HTTP error! status: ${response.status}`);
                }
                const result = await response.json();
                return result.text;
            } catch (error) {
                console.error("API call failed:", error);
                if (retries > 0) { await new Promise(res => setTimeout(res, delay)); return callGemini(prompt, retries - 1, delay * 2); }
                return `Sorry, an error occurred: ${error.message}`;
            }
        }

        function showLoader(element) {
            element.innerHTML = '<div class="flex justify-center items-center h-full"><div class="loader"></div></div>';
            element.classList.remove('hidden');
        }
        
        const copyEmailBtn = document.getElementById('copy-email-btn');
        const emailText = document.getElementById('email-text');
        const copyBtnText = document.getElementById('copy-btn-text');
        copyEmailBtn.addEventListener('click', () => {
            navigator.clipboard.writeText(emailText.textContent).then(() => {
                copyBtnText.textContent = 'Copied!';
                copyEmailBtn.classList.remove('bg-blue-600', 'hover:bg-blue-700');
                copyEmailBtn.classList.add('bg-green-600');
                setTimeout(() => {
                    copyBtnText.textContent = 'Copy';
                    copyEmailBtn.classList.remove('bg-green-600');
                    copyEmailBtn.classList.add('bg-blue-600', 'hover:bg-blue-700');
                }, 2000);
            }).catch(err => { console.error('Failed to copy text: ', err); copyBtnText.textContent = 'Failed'; setTimeout(() => { copyBtnText.textContent = 'Copy'; }, 2000); });
        });

        const canvas = document.getElementById('particle-canvas');
        let scene, camera, renderer, particles, lines;
        function init3DBackground() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 30;
            renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            const particleCount = 500;
            const positions = new Float32Array(particleCount * 3);
            for (let i = 0; i < particleCount * 3; i++) {
                positions[i] = (Math.random() - 0.5) * 100;
            }
            const particlesGeometry = new THREE.BufferGeometry();
            particlesGeometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            const particlesMaterial = new THREE.PointsMaterial({ color: 0x3b82f6, size: 0.2, transparent: true, opacity: 0.7 });
            particles = new THREE.Points(particlesGeometry, particlesMaterial);
            scene.add(particles);
            const lineMaterial = new THREE.LineBasicMaterial({ color: 0x3b82f6, transparent: true, opacity: 0.1 });
            const lineGeometry = new THREE.BufferGeometry();
            lineGeometry.setAttribute('position', particlesGeometry.attributes.position);
            lines = new THREE.LineSegments(lineGeometry, lineMaterial);
            scene.add(lines);
            window.addEventListener('resize', onWindowResize);
            document.addEventListener('mousemove', onMouseMove);
        }
        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        }
        let mouseX = 0, mouseY = 0;
        function onMouseMove(event) {
            mouseX = (event.clientX / window.innerWidth) * 2 - 1;
            mouseY = -(event.clientY / window.innerHeight) * 2 + 1;
        }
        function animate3D() {
            requestAnimationFrame(animate3D);
            particles.rotation.x += 0.0001;
            particles.rotation.y += 0.0002;
            lines.rotation.copy(particles.rotation);
            camera.position.x += (mouseX * 5 - camera.position.x) * 0.02;
            camera.position.y += (-mouseY * 5 - camera.position.y) * 0.02;
            camera.lookAt(scene.position);
            renderer.render(scene, camera);
        }
        init3DBackground();
        animate3D();
        
        const observer = new IntersectionObserver((entries) => { entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('visible'); }); }, { threshold: 0.1 });
        document.querySelectorAll('.scroll-animate').forEach(el => observer.observe(el));

        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenuButton.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
        mobileMenu.addEventListener('click', (e) => { if (e.target.tagName === 'A') mobileMenu.classList.add('hidden'); });

        const copilotInput = document.getElementById('copilot-input');
        const copilotResponse = document.getElementById('copilot-response');
        
        const portfolioContext = `
            About Me: I'm Trupt Acharya, an engineer building intelligent systems using ML, AI, and Full Stack Development.
            Current Status: Working as a Software Engineer Intern at IpserLab LLC on the "AuraCam" mobile vision app.
            Education & Experience:
            ${timelineItems.map(item => `- ${item.title} at ${item.company} (${item.date}): ${item.description.replace(/<br><br><strong>.*?<\/strong>.*|<[^>]*>/g, ' ')}`).join('\n')}
            Projects:
            ${projects.map(p => `- ${p.title}: ${p.description}`).join('\n')}
        `;

        copilotInput.addEventListener('keyup', async (e) => {
            if (e.key === 'Enter' && e.target.value) {
                const query = e.target.value;
                showLoader(copilotResponse);
                const prompt = `You are a helpful portfolio assistant for Trupt Acharya. Based on the following context, answer the user's question concisely. If they ask about your work at IpserLab, explain that you are building AuraCam using Flutter and ML Kit.\n\nContext:\n${portfolioContext}\n\nUser Question: "${query}"\n\nAnswer:`;
                const responseText = await callGemini(prompt);
                copilotResponse.innerHTML = responseText.replace(/\n/g, '<br>');
            }
        });

        // --- Render Timeline ---
        const timelineContainer = document.getElementById('timeline-container');
        const startYear = 2019;
        const endYear = 2026;
        const yearHeight = 250;
        const topPadding = 50;

        timelineContainer.style.height = `${(endYear - startYear + 1) * yearHeight}px`;

        for (let year = endYear; year >= startYear; year--) {
            const yearMarker = document.createElement('div');
            yearMarker.className = 'timeline-year';
            yearMarker.textContent = year;
            yearMarker.style.top = `${topPadding + (endYear - year) * yearHeight - 15}px`;
            timelineContainer.appendChild(yearMarker);
        }

        timelineItems.forEach(item => {
            const side = item.type === 'education' ? 'left' : 'right';
            const entry = document.createElement('div');
            entry.className = `timeline-entry timeline-${side}`;
            
            const topPos = topPadding + (endYear - item.endYear) * yearHeight;
            const duration = (item.endYear - item.startYear) || 0.75;
            const height = (duration * yearHeight) + ((item.endYear - item.startYear) * 60);
            
            entry.style.top = `${topPos}px`;
            entry.style.height = `${height}px`;

            entry.innerHTML = `
                <div class="timeline-content glass-effect p-6 rounded-lg shadow-lg h-full">
                    <div class="summary-view flex flex-col justify-center items-center h-full text-center">
                        <div>
                            <p class="text-sm text-${item.color}-400">${item.date}</p>
                            <h3 class="text-xl font-bold text-white mt-1">${item.title}</h3>
                            <p class="text-md text-slate-400">${item.company}</p>
                        </div>
                        <p class="mt-auto text-xs text-slate-500">[Hover for details]</p>
                    </div>
                    <div class="detail-view">
                        <p class="text-slate-300 text-sm">${item.description}</p>
                        <div class="mt-4 flex flex-wrap gap-2">${item.tags.map(tag => `<span class="bg-${item.color}-900/50 text-${item.color}-300 text-xs font-semibold px-2.5 py-0.5 rounded-full">${tag}</span>`).join('')}</div>
                    </div>
                </div>
            `;
            timelineContainer.appendChild(entry);
        });
        
        const projectsGrid = document.getElementById('projects-grid');
        const projectFilters = document.getElementById('project-filters');
        const modal = document.getElementById('project-modal');
        const modalContent = document.getElementById('modal-content');

        function renderProjects(filter = 'all') {
            projectsGrid.innerHTML = '';
            const filteredProjects = filter === 'all' ? projects : projects.filter(p => p.tags.includes(filter));
            filteredProjects.forEach(project => {
                const card = document.createElement('div');
                card.className = 'project-card glass-effect p-6 rounded-lg shadow-lg flex flex-col justify-between hover:-translate-y-2 transition-transform cursor-pointer';
                card.dataset.projectId = project.id;
                card.innerHTML = `<div><h3 class="text-xl font-bold text-white">${project.title}</h3><p class="text-sm text-blue-400 mt-1">${project.category}</p><p class="mt-4 text-slate-300">${project.description}</p></div><button class="mt-6 text-left font-semibold text-white hover:text-blue-400 transition-colors">View Case Study &rarr;</button>`;
                projectsGrid.appendChild(card);
            });
        }

        projectFilters.addEventListener('click', (e) => {
            if (e.target.tagName === 'BUTTON') {
                document.querySelector('.filter-btn.active').classList.remove('active');
                e.target.classList.add('active');
                renderProjects(e.target.dataset.filter);
            }
        });
        renderProjects();

        projectsGrid.addEventListener('click', (e) => {
            const card = e.target.closest('[data-project-id]');
            if (card) {
                const project = projects.find(p => p.id === card.dataset.projectId);
                openModal(project);
            }
        });

        modal.addEventListener('click', (e) => {
            if (e.target.id === 'project-modal' || e.target.id === 'close-modal-button') {
                modal.classList.add('hidden');
                document.body.style.overflow = 'auto';
            }
        });

        function openModal(project) {
            modalContent.innerHTML = `<div class="p-6 md:p-8"><div class="flex justify-between items-start"><div><h3 class="text-2xl md:text-3xl font-bold text-white">${project.title}</h3><p class="text-md text-blue-400 mt-1">${project.category}</p></div><button id="close-modal-button" class="text-3xl leading-none text-slate-400 hover:text-white">&times;</button></div><div class="mt-6 grid md:grid-cols-2 gap-8"><div class="space-y-6"><div><h4 class="font-bold text-white mb-2">The Challenge</h4><p class="text-slate-300">${project.challenge}</p></div><div><h4 class="font-bold text-white mb-2">My Mission</h4><p class="text-slate-300">${project.mission}</p></div><div><h4 class="font-bold text-white mb-2">Tech Stack</h4><div class="flex flex-wrap gap-2">${project.tech.map(t => `<img src="${techLogos[t] || ''}" alt="${t}" class="tech-logo h-6">`).join('')}</div></div></div><div><h4 class="font-bold text-white mb-2">Key Outcomes</h4><ul class="list-disc list-inside text-slate-300 space-y-2">${project.outcome.map(o => `<li>${o}</li>`).join('')}</ul><div class="mt-4"><button id="explain-project-btn" class="w-full bg-indigo-600/80 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-md transition-colors flex items-center justify-center gap-2">‚ú® Explain This Project to Me</button><div id="project-explanation" class="mt-2 p-3 bg-slate-800/70 rounded-md text-slate-300 text-sm hidden"></div></div></div></div><div id="interactive-container" class="mt-8 p-6 bg-slate-900/50 rounded-lg border border-slate-700"></div></div>`;
            modal.classList.remove('hidden');
            modal.classList.add('flex');
            document.body.style.overflow = 'hidden';
            
            document.getElementById('explain-project-btn').addEventListener('click', async function() {
                const explanationDiv = document.getElementById('project-explanation');
                showLoader(explanationDiv);
                const projectContext = `Project Title: ${project.title}. Challenge: ${project.challenge}. Mission: ${project.mission}. Tech Used: ${project.tech.join(', ')}. Outcome: ${project.outcome.join('. ')}.`;
                const prompt = `You are a helpful portfolio assistant for Trupt Acharya. Explain the following project in simple, easy-to-understand terms for a hiring manager. Keep it to 2-3 sentences.\n\nProject Details:\n${projectContext}\n\nExplanation:`;
                const explanation = await callGemini(prompt);
                explanationDiv.innerHTML = explanation.replace(/\n/g, '<br>');
            });

            const interactiveContainer = document.getElementById('interactive-container');
            if (project.interactive) { loadInteractiveElement(interactiveContainer, project.interactive); } 
            else { interactiveContainer.innerHTML = `<p class="text-center text-slate-400">Details for this project are available upon request.</p>`; }
        }

        async function loadInteractiveElement(container, type) {
            container.innerHTML = '';
            switch (type) {
                case 'lifeHUD':
                    container.innerHTML = `
                        <h5 class="font-bold text-white text-center mb-4">Live Demo: LifeHUD Dashboard Simulator</h5>
                        <div class="grid grid-cols-2 gap-4 max-w-md mx-auto">
                            <div class="bg-slate-800 p-4 rounded-lg border border-slate-700 text-center">
                                <p class="text-xs text-blue-400 font-bold uppercase">Hydration</p>
                                <div class="w-full bg-slate-700 h-2 rounded-full mt-2">
                                    <div id="water-bar" class="bg-blue-500 h-2 rounded-full transition-all duration-500" style="width: 40%"></div>
                                </div>
                                <button onclick="const b = document.getElementById('water-bar'); b.style.width = Math.min(100, parseInt(b.style.width)+20)+'%'" class="mt-3 text-[10px] bg-blue-600 px-2 py-1 rounded">Drink Water</button>
                            </div>
                            <div class="bg-slate-800 p-4 rounded-lg border border-slate-700 text-center">
                                <p class="text-xs text-green-400 font-bold uppercase">LeetCode Streak</p>
                                <div class="flex justify-center gap-1 mt-2">
                                    ${Array(7).fill(0).map((_,i) => `<div class="${i < 4 ? 'bg-green-500' : 'bg-slate-700'} w-3 h-3 rounded-sm"></div>`).join('')}
                                </div>
                                <p class="text-lg font-bold mt-1 text-white">4 Days</p>
                            </div>
                        </div>
                        <p class="text-center text-[10px] text-slate-500 mt-4 italic">LifeHUD runs as a native frameless app on your desktop background.</p>
                    `;
                    break;
                case 'tripPlanner':
                    container.innerHTML = `<h5 class="font-bold text-white text-center mb-4">Live Demo: AI Trip Planner</h5><div class="space-y-4 max-w-md mx-auto"><div><label for="trip-city" class="text-sm text-slate-300">Destination</label><input id="trip-city" type="text" class="w-full mt-1 px-3 py-2 rounded-md bg-slate-800 border border-slate-600 focus:outline-none focus:ring-1 focus:ring-blue-500" value="Paris"></div><button id="suggest-activities-btn" class="w-full bg-teal-600/80 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded-md transition-colors flex items-center justify-center gap-2">‚ú® Suggest Activities with Gemini</button></div><div id="trip-output" class="mt-4 p-4 bg-slate-800 rounded-md text-slate-300 hidden"></div>`;
                    document.getElementById('suggest-activities-btn').addEventListener('click', async () => {
                        const city = document.getElementById('trip-city').value || 'Paris';
                        const outputDiv = document.getElementById('trip-output');
                        showLoader(outputDiv);
                        const prompt = `You are a creative travel assistant. Suggest 3 unique activities for ${city}. Format as a list.`;
                        const suggestions = await callGemini(prompt);
                        outputDiv.innerHTML = suggestions.replace(/\n/g, '<br>');
                    });
                    break;
                case 'fetalBrain':
                    container.innerHTML = `<h5 class="font-bold text-white text-center mb-4">Interactive Demo: Explainable AI (XAI)</h5> <p class="text-center text-sm text-slate-400 mb-4">Drag slider to see Grad-CAM heatmap.</p> <div class="relative max-w-sm mx-auto aspect-square"> <img src="https://placehold.co/400x400/000000/FFFFFF?text=Fetal+Ultrasound" class="absolute inset-0 w-full h-full object-cover rounded-md"> <div id="heatmap-overlay" class="absolute inset-0 w-1/2 h-full overflow-hidden"> <img src="https://placehold.co/800x400/FF0000/FFFFFF?text=Heatmap" style="width: 200%; height: 100%; max-width: 200%;" class="object-cover rounded-md"> </div> <input type="range" min="0" max="100" value="50" class="absolute inset-0 w-full h-full opacity-0 cursor-pointer" oninput="document.getElementById('heatmap-overlay').style.width = this.value + '%'"> </div>`;
                    break;
                case 'fraudDetection':
                    container.innerHTML = `<h5 class="font-bold text-white text-center mb-4">Interactive Demo: Precision vs. Recall</h5> <div class="max-w-lg mx-auto"> <canvas id="fraudChart"></canvas> <div class="mt-4"> <label for="threshold-slider" class="text-sm text-slate-300">Detection Threshold: <span id="threshold-value" class="font-bold text-white">0.5</span></label> <input id="threshold-slider" type="range" min="0.1" max="0.9" value="0.5" step="0.01" class="w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"> </div> </div>`;
                    const fctx = document.getElementById('fraudChart').getContext('2d');
                    const fraudChart = new Chart(fctx, { type: 'bar', data: { labels: ['Precision', 'Recall'], datasets: [{ data: [89.4, 95.2], backgroundColor: ['rgba(59, 130, 246, 0.5)', 'rgba(22, 163, 74, 0.5)'] }] }, options: { scales: { y: { beginAtZero: true, max: 100 } }, plugins: { legend: { display: false } } } });
                    document.getElementById('threshold-slider').addEventListener('input', (e) => { const threshold = parseFloat(e.target.value); document.getElementById('threshold-value').textContent = threshold.toFixed(2); fraudChart.data.datasets[0].data = [20 + (threshold * 90), 110 - (threshold * 80)]; fraudChart.update(); });
                    break;
                case 'ecommerce':
                     container.innerHTML = `<h5 class="font-bold text-white text-center mb-4">Architecture: Scalable Cloud Deployment</h5> <div class="bg-slate-800 p-4 rounded-md border border-slate-700 text-center font-mono text-[10px]"> <p class="text-green-400">[User]</p> <p>|</p> <p>V</p> <div class="p-2 border border-dashed border-slate-600 rounded-md"> <p class="text-yellow-400">[AWS EC2 (Nginx)]</p> <p>|</p> <p>[Docker: React] <-> [Docker: Flask] -- [PostgreSQL]</p> </div> </div>`;
                     break;
                case 'affirmationLibrary':
                    container.innerHTML = `<h5 class="font-bold text-white text-center mb-4">Live Demo: Affirmation Library</h5> <div class="max-w-lg mx-auto"> <div id="aff-list" class="space-y-2 mb-4 h-16 overflow-y-auto p-2 bg-slate-800 rounded-md text-xs"> <p>You are capable of amazing things.</p> </div> <div class="flex gap-2"> <input id="aff-input" type="text" class="flex-grow px-3 py-1 rounded bg-slate-800 border border-slate-600 text-xs" placeholder="Share..."> <button onclick="const i=document.getElementById('aff-input'); const l=document.getElementById('aff-list'); if(i.value){l.innerHTML += '<p>'+i.value+'</p>'; i.value=''; l.scrollTop=l.scrollHeight;}" class="bg-blue-600 px-3 py-1 rounded text-xs">Share</button> </div> </div>`;
                    break;
                case 'envSimulator':
                    container.innerHTML = `<h5 class="font-bold text-white text-center mb-4">Interactive Demo: Environmental Impact</h5> <canvas id="envChart"></canvas> <div class="mt-4 flex gap-2 justify-center"> <button onclick="const c=Chart.getChart('envChart'); c.data.datasets[0].data[0]+=20; c.update();" class="bg-red-600/50 px-2 py-1 rounded text-[10px]">Add Car Trip</button> <button onclick="const c=Chart.getChart('envChart'); c.data.datasets[0].data[1]+=50; c.update();" class="bg-yellow-600/50 px-2 py-1 rounded text-[10px]">Add Energy</button> </div>`;
                    new Chart(document.getElementById('envChart').getContext('2d'), { type: 'bar', data: { labels: ['Carbon', 'Energy'], datasets: [{ data: [0, 0], backgroundColor: ['rgba(220, 38, 38, 0.5)', 'rgba(234, 179, 8, 0.5)'] }] }, options: { indexAxis: 'y', plugins: { legend: { display: false } } } });
                    break;
            }
        }
    });
    </script>
</body>
</html>